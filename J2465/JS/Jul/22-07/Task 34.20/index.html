<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document Ready</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
    />
    <script
      src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
      integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.14.6/dist/umd/popper.min.js"
      integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.2.1/dist/js/bootstrap.min.js"
      integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k"
      crossorigin="anonymous"
    ></script>
  </head>

  <script>
    "use strict";
    // gCAR_DB: database of cars
    // vID: vehicle identification number
    const gCAR_DB = [
      {
        make: "Ford",
        model: "Explorer",
        year: 2017,
        color: "white",
        vID: "AB-10111",
      },
      {
        make: "Toyota",
        model: "Corolla",
        year: 2018,
        color: "silver",
        vID: "DN-23218",
      },
      {
        make: "Mazda",
        model: "Mazda 6",
        year: 2020,
        color: "red",
        vID: "TZ-23212",
      },
      {
        make: "Toyota",
        model: "Fortuna",
        year: 2016,
        color: "black",
        vID: "IN-91925",
      },
      {
        make: "Mazda",
        model: "Mazda 3",
        year: 2019,
        color: "silver",
        vID: "MN-44593",
      },
    ];

    $(document).ready(() => {
      //đây là code chạy thử của function getCarByVID
      var vVIDCarForSearch = $(gCAR_DB)[2]["vID"];
      $("#bienKiemSoat").html(vVIDCarForSearch);

      var vCarInforElement = $("#carInfor");
      var vMyCar = getCarByVID(vVIDCarForSearch);
      if (vMyCar !== null) {
        vCarInforElement.html(
          "Vid: " +
            vMyCar.vID +
            "<br>" +
            "Hãng: " +
            vMyCar.make +
            "<br>" +
            "Model: " +
            vMyCar.model +
            "<br>" +
            "Năm sản xuất: " +
            vMyCar.year +
            "<br>" +
            "Màu sắc: " +
            vMyCar.color
        );

        vCarInforElement.css("color", "green");
      } else {
        vCarInforElement.html(
          "Không tìm thấy ô tô có vID là: " + vVIDCarForSearch
        );
        vCarInforElement.css("color", "red");
      }
    });

    /**
     * find and return a car by carVID
     * input/start: vID của ô tô cần tìm
     * output/end: 01 đối tượng ô tô (car) tìm thấy; nếu không tìm thấy thì trả về null
     */
    function getCarByVID(carVID) {
      return (
        $.grep(gCAR_DB, (car) => {
          return car.vID === carVID;
        })[0] || null
      );
    }
  </script>

  <body class="bg-light">
    <div class="container">
      <div class="form-group">
        <h1>Test Page for Devcamp Javascript Tasks</h1>
        <h1>(Trang test code Javascript)</h1>
        <p>
          Press F5 to run code. Don't forget to Save your code before running.
          (Ctrl+S).
        </p>
        <p>
          (F5 để chạy code; Đừng quên lưu code trước đó trên VScode, ctrl+S)
        </p>
        <p>Thông tin ô tô biển kiểm soát: <span id="bienKiemSoat"></span></p>
        <p id="carInfor"></p>
      </div>
    </div>
  </body>
</html>
